一道C语言的问题编程求帮忙改正
输入一个十进制数 如-14.48 61.3585
输出二进制数应为 -1110.0111101011 和 111101.0101101111
这是我编写的程序
#include
//转化为2进制
void z2(int n)
{
if (n > 1)
{
z2(n / 2);
}
printf("%d", n % 2);
}
void z21(float f,int c) 
{
float twice;
int tmp;
if (c == 0)
return;
twice = f * 2;
tmp = (int)twice;
printf("%d", tmp);
z21(twice - tmp, --c);
}
void main() 
{
float shu = 0;
int zhengshu = 0;
printf("请输入一个十进制数:");
scanf("%f", &shu);
zhengshu = (int)shu;
shu -= zhengshu;
z211(zhengshu,shu);
｝
我输入 61.3585输出111101.01011011 输入 -14.48 输出 0.0-1-1-1-10-10 结果都不对呀，如何改正？？ 
----------------------------------------------------------------------------------------------------
我稍微修改了一下,可以参考参考
<code> #include <stdio.h>

//转化为2进制
void z2(int n)
{
    if (n > 1)
    {
        z2(n / 2);
    }
    printf("%d", n % 2);
}
void z21(float f,int c) 
{
    float twice;
    int tmp;
    if (c == 0)
        return;
    twice = f * 2;
    tmp = (int)twice;
    printf("%d", tmp);
    z21(twice - tmp, --c);
}

int main() 
{
    float shu = 0;
    int zhengshu = 0;
    printf("请输入一个十进制数:");
    scanf("%f", &shu);
    if (shu < 0)//为负数
    {
        printf("-");//打印负号
        shu = abs(shu);//取绝对值
    }
    zhengshu = (int)shu;
    shu -= zhengshu;
    z2(zhengshu);//计算并打印整数部分
    printf(".");//打印小数点
    z21(shu, 10);//计算并打印小数部分,第二个参数10为你想要计算的小数点后的位数,比如说10,则小数点后算10位
    return 0;
}
</code>
结果: