{"title": "创建Android外部存储器文件问题", "question": "我想创建一个.txt文件并将其存储在Android手机的外部存储器。我增加了Android Manifest权限。我运行代码时不给出任何错误提示，但文件却创建不了。我不知道代码哪里出错，请高人指点，谢谢。\n<code>public void createExternalStoragePrivateFile(String data) {\n    // Create a path where we will place our private file on external\n    // storage.\n    File file = new File(myContext.getExternalFilesDir(null), \"state.txt\");\n\n    try {\n\n        FileOutputStream os = null; \n        OutputStreamWriter out = null;\n        os = myContext.openFileOutput(data, Context.MODE_PRIVATE);\n        out = new OutputStreamWriter(os);\n        out.write(data);\n        os.close();\n\n        if(hasExternalStoragePrivateFile()) {\n            Log.w(\"ExternalStorageFileCreation\", \"File Created\");\n        } else {\n            Log.w(\"ExternalStorageFileCreation\", \"File Not Created\");\n        }\n\n    } catch (IOException e) {\n        // Unable to create file, likely because external storage is\n        // not currently mounted.\n        Log.w(\"ExternalStorage\", \"Error writing \" + file, e);\n    }\n}\n</code> ", "answer": "我之前也遇见过这个问题,用这段代码能实现:   \n<code> public void createExternalStoragePrivateFile(String data) {\n        // Create a path where we will place our private file on external\n        // storage.\n        File file = new File(myContext.getExternalFilesDir(null), \"state.txt\");\n\n\n        try {\n\n            FileOutputStream os = new FileOutputStream(file); \n            OutputStreamWriter out = new OutputStreamWriter(os);\n\n            out.write(data);\n            out.close();\n\n            if(hasExternalStoragePrivateFile()) {\n                Log.w(\"ExternalStorageFileCreation\", \"File Created\");\n            } else {\n                Log.w(\"ExternalStorageFileCreation\", \"File Not Created\");\n            }\n\n        } catch (IOException e) {\n            // Unable to create file, likely because external storage is\n            // not currently mounted.\n            Log.w(\"ExternalStorage\", \"Error writing \" + file, e);\n        }\n    }\n</code>"}