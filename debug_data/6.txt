编程小问题，关于结构体
用结构体类型数组进行程序设计。有五个学生，每个学生的信息包括：学号，姓名，三门课的成绩和平均成绩。从键盘输入每个学生的学号，姓名和三门课的成绩，计算每个学生的平均成绩，计算并输出总平均成绩，求出最高分学生，并输出其信息(姓名和平均成绩)。
实验步骤
① 用一个函数输入五个学生的数据信息；
② 用一个函数求每个学生的平均成绩；
③ 用一个函数找出最高分的学生；
④ 主函数中调用相关函数，并输出总平均成绩和最高分学生的信息。
这是我写的代码
#include
#define N 5
struct student
{
    int num;
    char name[20];
    int score[3];
}stu[5];
float ave[3];
void input();
void average();
int max();
int main()
{
    input();
    average();
    int t;
    t=max();
}
void input()
{
    int i,j;
    for(i=0;i<5;i++)
    {
        scanf("%d%c",&stu[i].num,&stu[i].name);
        for(j=0;j<3;j++)
        {
            scanf("%d",&stu[i].score[j]);
        }
    }
}
void average()
{
    int i,j;
    for(i=0;i<5;i++)
    {
        ave[i]=0;
        for(j=0;j<3;j++)
        {
            ave[i]+=stu[i].score[j];
        }
        ave[i]/=3;
    }
}
int max()
{
    int i,maxi=0;
    float max=ave[0];
    for(i=1;i<5;i++)
    {
        if(max<ave[i])
        {
            max=ave[i];
            maxi=i+1;
        }
    }
    return maxi;
}
为什么无法运行啊？求指导 
----------------------------------------------------------------------------------------------------
您好,依据题意,我重新写了一个程序,您看看,另外我只分数最高者姓名与平均成绩,其他的添加就可以,三个函数均按题目要求来写的,希望能帮助到您。程序代码如下:
#include 
#include 
#define NUM_OF_STUDENT 5
struct student
{
    int num;
    char name[20];
    double course[3];
    double avg;
};
struct student stuArray[NUM_OF_STUDENT];
void input_info()
{
    int i;
    for(i = 0; i < 5; ++ i)
    {
        //printf("input the infomation of %d\n", i + 1);
        stuArray[i].num = 0;
        memset(stuArray[i].name, 0, sizeof(stuArray[i].name));
        memset(stuArray[i].course, 0, sizeof(stuArray[i].course));
        stuArray[i].avg = 0;
<code>    scanf("%d", &stuArray[i].num);
    scanf("%s", stuArray[i].name);
    scanf("%lf%lf%lf", &stuArray[i].course[0],
        &stuArray[i].course[1],&stuArray[i].course[2]);
}
</code>
}
void average()
{
    int i;
    for(i = 0; i < 5; ++ i)
    {
        stuArray[i].avg = (stuArray[i].course[0] + stuArray[i].course[1] + stuArray[i].course[2])/3;
    }
}
int max_score()
{
    int i, in = 0;
    double max, temp;
    max = stuArray[in].course[0] + stuArray[in].course[1] + stuArray[in].course[2];
    for(i = 1; i < 5; ++ i)
    {
        temp = stuArray[i].course[0] + stuArray[i].course[1] + stuArray[i].course[2];
        if(temp > max)
            in = i;
    }
    return in;
}
int main()
{
    input_info();
    average();
<code>int index = max_score();
printf("%s  %.2f\n", stuArray[index].name, stuArray[index].avg);
return 0;
</code>
}
/*
1 zhangsan 80 80 90
2 lisi 87 67 89
3 wangwu 90 98 78
4 zhangliu 78 98 99
5 diaosi 78 86 76
*/