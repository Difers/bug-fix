从类对象的方法中接收空指针异常
我有一个自定义视图，我把它声明字了‘main’XML文件中：
<code><com.app.DrawView
android:id="@+id/my_view"
android:layout_height="match_parent"
android:layout_width="match_parent" />
</code>
然后在我的activity中的onCreate方法中：
<code>setContentView(R.layout.main);
</code>
显示自定义视图这些都很正常。但是我想要做的是给当前视图传递值。所以我试着做了一个实例的自定义视图：
<code>DrawView drawView = (DrawView) findViewById(R.id.my_view);
</code>
然后在DrawView类，我创建了一个方法：
<code>public void setUserData(boolean data){
      useEraser = data;
}
</code>
现在，我的问题是，在我的activity中，当我想要位DrawView对象访问这个方法的时候我一直会得到一个NullPointerExeption，就像这样：
<code>boolean value = true;
drawView.setUserData(value);
</code>
错误指向<code>drawView.setUserData(value)</code>这一行。我哪块有问题？我知道我犯了一个简单的错误，但是它就是想让我找到他。
我尝试用一个方法，但是我发现没法实现。我把
<code>DrawView drawView = (DrawView)findViewById(R.id.my_view);
</code>
放在
<code>setContentView(R.layout.main);
</code>
前边。
我知道我碰到的这是一个很简单的问题。希望大家能帮帮忙。 
----------------------------------------------------------------------------------------------------
你不用从方法调用中接收异常信息。你可能会在一个try-catch语句中捕获到一个方法抛出的异常。在那种情况下,异常信息就可能被catch语句块捕获。否则它可能会发生在方法内部。因为调用者会抛出异常,错误不在你的方法中。
在这种情况下:
<code>boolean value = true;
drawView.setUserData(value);
</code>
唯一可能是空的就是drawView。因此,findViewById返回控制或者是,你在某些地方将drawView设置成了空。你可以在这放一个breakpoint来阻止:
<code>DrawView drawView = (DrawView) findViewById(R.id.my_view);
</code>
然后检查drawView的值。
从你给出的信息中,我不明白为什么会这样,但是这个检查你必须要做。
顺便说一句,你应该总是在一个自定义视图中提供三个视图的构造函数,你少了:
<code> public DrawView(Context context, AttributeSet attrs, int defaultStyle){
 super(context, attrs, defaultStyle);
</code>
如果默认的widget风格被覆盖的话,构造函数就会被用到